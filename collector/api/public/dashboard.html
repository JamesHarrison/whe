<!DOCTYPE html>
<html>
<head>
  <title>WHE</title>
  <script src="/faye/client.js"></script>
</head>
<body>
  <h1>Dashboard</h1>
  <button onclick="trigger()">Trigger</button>
  <script>
    var client = new Faye.Client('http://localhost:3000/faye');

    // Display heartbeats of all clients
    client.subscribe('/heartbeat', function (thing) {
      console.log('Heartbeat: type: %o, id: %o', thing.type, thing.id);
    });

    function trigger() {
      client.publish('/trigger', {})
        .then(success, fail);
    }

    function success() {
      console.log('SUCCESS :-)');
    }

    function fail() {
      console.error('FAIL :-(');
    }
  </script>
</body>
</html>